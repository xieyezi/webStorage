var t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},e={version:"1.0.0",storage:window.localStorage,session:{storage:window.sessionStorage}},r={set:function(t,e){if(!this.disabled)return void 0===e?this.remove(t):(this.storage.setItem(t,function(t){return JSON.stringify(t)}(e)),e)},get:function(t,e){if(this.disabled)return e;var r=function(t){if("string"!=typeof t)return;try{return JSON.parse(t)}catch(e){return t||void 0}}(this.storage.getItem(t));return void 0===r?e:r},has:function(t){return void 0!==this.get(t)},remove:function(t){this.disabled||this.storage.removeItem(t)},clear:function(){this.disabled||this.storage.clear()},getAll:function(){if(this.disabled)return null;var t={};return this.forEach(function(e,r){t[e]=r}),t},forEach:function(t){if(!this.disabled)for(var e=0;e<this.storage.length;e++){var r=this.storage.key(e);t(r,this.get(r))}}};t(e,r),t(e.session,r);try{e.set("__test__","__test__"),"__test__"!==e.get("__test__")&&(e.disabled=!0),e.remove("__test__")}catch(t){e.disabled=!0}export default e;
